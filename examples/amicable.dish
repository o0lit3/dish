// https://rosettacode.org/wiki/Amicable_pairs

divisors = :i(
  out: [1]

  (1..i**0.5).map:j(
    (i % j == 0 && j > 1).and(out << j, (j != i / j).and(out << i / j))
  )

  (i == 1).switch([], out)
)

sums = (0..20000).map:i(
  i.divisors.sum
)

sums.grep:sum:i(
  sums.sum == i && i < sum
).map:n(
  [sums.n, n].join(" ")
).join("\n")
